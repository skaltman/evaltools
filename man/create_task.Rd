% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/run-eval.R
\name{create_task}
\alias{create_task}
\title{Create an evaluation task from a samples directory}
\usage{
create_task(
  samples_dir,
  system_prompt = NULL,
  tools_dir = "tools",
  tool_names = NULL,
  scorer_chat = ellmer::chat_anthropic(model = "claude-sonnet-4-5-20250929"),
  scorer_instructions = default_judge_instructions(),
  grade_levels = c("I", "C"),
  epochs = 1,
  name = "eval",
  dir = "logs",
  ...
)
}
\arguments{
\item{samples_dir}{Character string path to directory containing YAML sample files.}

\item{system_prompt}{Optional character string with system prompt for all samples.
Default is NULL (no system prompt).}

\item{tools_dir}{Character string path to directory containing tool factory R files
to source. Default is "tools". Set to NULL to disable auto-sourcing (e.g., if
tools are already loaded from a package).}

\item{tool_names}{Character vector of tool names to check for in scorer.
If NULL (default), automatically extracts tool names from the dataset's
tool aliases. You only need to specify this if you want to check for
additional tool names beyond what's in the YAML files.}

\item{scorer_chat}{Optional ellmer Chat object for judging. Default uses
Claude Sonnet 4.5.}

\item{scorer_instructions}{Optional custom instructions for the LLM judge.
Default uses standard Correct/Incorrect instructions.}

\item{grade_levels}{Character vector of valid grade levels. Default is
c("I", "C") for Incorrect/Correct.}

\item{epochs}{Number of evaluation epochs. Default is 1.}

\item{name}{Name for the evaluation task. Default is "eval".}

\item{dir}{Directory for logging results. Default is "logs".}

\item{...}{Additional arguments passed to create_solver() (e.g., prompt_field,
setup_field, sleep_time).}
}
\value{
A vitals::Task object ready to run with \code{task$eval(solver_chat)}.
}
\description{
Convenience function that loads a dataset from YAML files and creates a
vitals::Task with solver and scorer. This abstracts away the common pattern
of loading data, creating solver/scorer, and building a task.
}
\examples{
\dontrun{
# Tools automatically sourced from tools/ directory
task <- create_task(
  samples_dir = "samples/",
  system_prompt = "You are a careful analyst."
)

# Disable auto-sourcing if tools are in a package
library(mytools)
task <- create_task(
  samples_dir = "samples/",
  tools_dir = NULL
)

# Run evaluation
task$eval(solver_chat = ellmer::chat_anthropic(...))

# View results
task$results
task$accuracy()
}
}
